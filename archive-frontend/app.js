(function(){"use strict";var e={5056:function(e,t,r){var o=r(144),n=r(9669),a=r.n(n);let s={};const i=a().create(s);i.interceptors.request.use((function(e){return e}),(function(e){return Promise.reject(e)})),i.interceptors.response.use((function(e){return e}),(function(e){return Promise.reject(e)})),Plugin.install=function(e,t){e.axios=i,window.axios=i,Object.defineProperties(e.prototype,{axios:{get(){return i}},$axios:{get(){return i}}})},o.ZP.use(Plugin);Plugin;var u=r(1096),l=r(3246),c=function(){var e=this,t=e._self._c;e._self._setupProxy;return t(u.Z,[t("ToolbarView"),t(l.Z,[t("router-view")],1)],1)},d=[],f=r(1828),m=r(5057),p=r(5234),h=r(5838),v=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",[t(h.Z,{staticClass:"mb-5",attrs:{color:"",dense:"",elevation:"4"}},[t("router-link",{staticClass:"router-link",attrs:{to:"/"}},[t(f.Z,{attrs:{icon:""}},[t(m.Z,{attrs:{color:"primary"},on:{click:function(t){return e.log(e.token)}}},[e._v("mdi-home")])],1)],1),t(p.Z),t(p.Z),e.token?e._e():t("div",[t("router-link",{staticClass:"ml-1 mr-1 router-link",attrs:{to:"/login"}},[t(f.Z,{attrs:{color:"primary"}},[e._v("Login")])],1)],1),e.token?t("div",[t(f.Z,{attrs:{color:"primary"}},[e._v("Logout")])],1):e._e()],1)],1)},g=[],P=r(7720),w=(0,P.Q_)("globals",{state:function(){return{token:""}},actions:{logIn:function(e){this.token=e,console.log(this.token)}}}),Z=r(6121),b=(0,Z.aZ)({setup:function(){var e=(0,P.Jk)(w()).token;return{token:e,log:function(e){console.log(e)}}}}),_=b,y=r(1001),k=(0,y.Z)(_,v,g,!1,null,null,null),x=k.exports,C=o.ZP.extend({name:"App",data:function(){return{}},components:{ToolbarView:x}}),M=C,O=(0,y.Z)(M,c,d,!1,null,null,null),j=O.exports,E=r(3058),L=r(5223),B=r(1313),H=r(6904),I=r(5952),S=function(){var e=this,t=e._self._c;e._self._setupProxy;return t(H.Z,[t("div",{staticClass:"d-flex flex-column"},[t(E.Z,{staticClass:"ml-auto mr-auto mt-5 px-5",attrs:{loading:e.loading,color:""}},[t(L.EB,[e._v("Login")]),t(I.Z,{attrs:{clearable:"",outlined:"",label:"Login Name",placeholder:"Login name"},model:{value:e.loginModel.LoginName,callback:function(t){e.$set(e.loginModel,"LoginName",t)},expression:"loginModel.LoginName"}}),t(I.Z,{staticClass:"ml-auto mr-auto mt-5",attrs:{type:e.showPassword?"password":"",outlined:"",label:"Password",placeholder:"Placeholder","append-icon":e.showPassword?"mdi-eye":"mdi-eye-off"},on:{"click:append":e.togglePassword},model:{value:e.loginModel.Password,callback:function(t){e.$set(e.loginModel,"Password",t)},expression:"loginModel.Password"}}),t(B.Z,{attrs:{label:"Remember me"},model:{value:e.loginModel.RememberMe,callback:function(t){e.$set(e.loginModel,"RememberMe",t)},expression:"loginModel.RememberMe"}},[e._v("Remember me")]),t(L.h7,[t(f.Z,{attrs:{color:"primary"},on:{click:function(t){return e.login()}}},[e._v("Login")]),t("router-link",{staticClass:"ml-5",staticStyle:{"text-decoration":"none"},attrs:{to:"/register"}},[t(f.Z,{attrs:{color:"primary"}},[e._v("Create account")])],1)],1)],1)],1)])},U=[],F=(r(7658),r(655)),J="http://104.248.130.157",A=function(){return J},T=(0,o.aZ)({setup:function(){var e=(0,P.Jk)(w()).token,t={LoginName:"",Password:"",RememberMe:!1};return{loginModel:t,token:e}},data:function(){return{loading:!1,showPassword:!1}},methods:{togglePassword:function(){this.showPassword=!this.showPassword},login:function(){return(0,F.mG)(this,void 0,void 0,(function(){var e,t=this;return(0,F.Jh)(this,(function(r){return e=new FormData,Object.keys(this.loginModel).forEach((function(r){return e.append(r,t.loginModel[r])})),[2,fetch(A()+"/token/get",{body:e,method:"POST"}).then((function(e){console.log(e),200==e.status&&e.text().then((function(e){t.token=e,t.$router.push("/")}))})).catch((function(e){}))]}))}))}}}),$=T,D=(0,y.Z)($,S,U,!1,null,null,null),R=D.exports,z=function(){var e=this,t=e._self._c;e._self._setupProxy;return t(H.Z,[t("div",{staticClass:"d-flex flex-column"},[t(E.Z,{staticClass:"ml-auto mr-auto mt-5 px-5",attrs:{loading:e.loading,color:""}},[t(L.EB,[e._v("Register")]),t(I.Z,{attrs:{clearable:"",outlined:"",label:"Username",placeholder:"Username"},model:{value:e.registerModel.Username,callback:function(t){e.$set(e.registerModel,"Username",t)},expression:"registerModel.Username"}}),t(I.Z,{attrs:{clearable:"",outlined:"",label:"Email",placeholder:"Email"},model:{value:e.registerModel.Email,callback:function(t){e.$set(e.registerModel,"Email",t)},expression:"registerModel.Email"}}),t(I.Z,{staticClass:"ml-auto mr-auto mt-5",attrs:{type:e.showPassword?"password":"",outlined:"",label:"Password",placeholder:"Placeholder","append-icon":e.showPassword?"mdi-eye":"mdi-eye-off"},on:{"click:append":e.togglePassword},model:{value:e.registerModel.Password,callback:function(t){e.$set(e.registerModel,"Password",t)},expression:"registerModel.Password"}}),t(I.Z,{staticClass:"ml-auto mr-auto mt-5",attrs:{type:e.showPassword?"confirmPassword":"",outlined:"",label:"Confirm Password",placeholder:"Placeholder","append-icon":e.showPassword?"mdi-eye":"mdi-eye-off"},on:{"click:append":e.togglePassword},model:{value:e.registerModel.ConfirmPassword,callback:function(t){e.$set(e.registerModel,"ConfirmPassword",t)},expression:"registerModel.ConfirmPassword"}}),t(L.h7,[t(f.Z,{attrs:{color:"primary"},on:{click:function(t){return e.register()}}},[e._v("Register")])],1)],1)],1)])},G=[],N=(0,o.aZ)({setup:function(){var e=(0,P.Jk)(w()).token,t={Username:"",Email:"",Password:"",ConfirmPassword:""};return{registerModel:t,token:e}},data:function(){return{loading:!1,showPassword:!1}},methods:{togglePassword:function(){this.showPassword=!this.showPassword},register:function(){var e=this,t=new FormData;return Object.keys(this.registerModel).forEach((function(r){return t.append(r,e.registerModel[r])})),fetch(A()+"/Account/Register",{body:t,method:"POST"}).catch((function(e){}))}}}),V=N,q=(0,y.Z)(V,z,G,!1,null,null,null),Q=q.exports,W=r(6035),Y=r(2469),K=r(5294),X=r(9868),ee=r(3625),te=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",[t("div",{staticClass:"container d-flex"},[t(E.Z,{staticClass:"mx-auto"},[t(Y.Z,{attrs:{src:e.item?.imageUri}}),t(L.EB,[e._v(" "+e._s(e.item?.name)+" ")]),e._v(" "+e._s(e.item?.pricePerUnit)+" LEI / "+e._s(e.item?.unit)+" "),t(L.Qq),t(K.Z,{staticClass:"justify-center mx-auto pa-3"},[e._v(" "+e._s(e.item?.category)+" ")])],1),t(W.Z,{attrs:{fluid:""}},[t(X.Z,{staticClass:"v-sheet mx-auto",attrs:{elevation:"12"}},[t(ee.Z,{attrs:{"stroke-linecap":"round","label-size":"7","line-width":"1",smooth:"",value:e.values,labels:e.labels,"auto-draw":""}})],1)],1)],1)])},re=[],oe=(0,o.aZ)({beforeMount:function(){this.fetchProductData(this.$route.params.productId)},setup:function(){var e=(0,o.iH)();return{item:e}},methods:{fetchProductData:function(e){return(0,F.mG)(this,void 0,void 0,(function(){var t;return(0,F.Jh)(this,(function(r){switch(r.label){case 0:return[4,a().get(A()+"/product/getProduct?productId="+e)];case 1:return t=r.sent(),console.log(t.data),this.item=t.data,this.item,[2]}}))}))}},computed:{values:function(){var e;return null===(e=this.item)||void 0===e?void 0:e.productPrices.map((function(e){return e.price}))},labels:function(){var e;return null===(e=this.item)||void 0===e?void 0:e.productPrices.map((function(e){return e.date.substring(0,10)}))}}}),ne=oe,ae=(0,y.Z)(ne,te,re,!1,null,null,null),se=ae.exports,ie=r(8345),ue=r(3823),le=r(9412),ce=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"container",staticStyle:{"max-width":"90%"}},[e.token?t("div",[t("h2",[e._v("Here are your favorite products:")]),t("div",{staticClass:"d-flex flex-wrap mx-auto"},[t("ol",{staticClass:"d-flex flex-wrap"},e._l(e.favoriteProducts,(function(r){return t("li",{key:r.id,staticClass:"ma-5"},[t(E.Z,{staticClass:"mt-5",attrs:{width:"344"}},[t(Y.Z,{attrs:{src:r.imageUri,width:"344",height:"200px"}}),t(L.EB,[e._v(" "+e._s(r.name)+" ")]),e._v(" "+e._s(r.pricePerUnit)+" LEI / "+e._s(r.unit)+" "),t(L.Qq),t(K.Z,{staticClass:"justify-center mx-auto pa-3"},[e._v(" "+e._s(r.category)+" ")]),r.isFavoritedByCurrentUser?t(m.Z,{attrs:{color:"red"},on:{click:function(t){return e.unfavoriteProduct(r.id)}}},[e._v("mdi-heart")]):""!=e.token?t(m.Z,{attrs:{color:"grey"},on:{click:function(t){return e.favoriteProduct(r.id)}}},[e._v("mdi-heart-outline")]):e._e(),t(p.Z),t("router-link",{staticClass:"router-link",attrs:{to:{name:"productView",params:{productId:r.id}}}},[t(f.Z,{attrs:{color:"primary"}},[e._v("Details")])],1)],1)],1)})),0)])]):e._e(),t("h2",{staticClass:"text-center mt-5"},[e._v("We have the following products you can browse:")]),t("h3",{staticClass:"text-center mt-5"},[e._v("You can filter the products using the following criteria:")]),t("div",{staticClass:"d-flex mt-5"},[t(le.Z,{attrs:{label:"Choose category",items:e.MegaImageCategories},on:{change:function(t){return e.fetchProducts()}},model:{value:e.selectedCategory,callback:function(t){e.selectedCategory=t},expression:"selectedCategory"}}),t(p.Z),t(I.Z,{attrs:{label:"Search by name"},on:{change:function(t){return e.fetchProducts()}},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}}),t(p.Z),t(I.Z,{attrs:{label:"Search by manufacturer"},on:{change:function(t){return e.fetchProducts()}},model:{value:e.manufacturer,callback:function(t){e.manufacturer=t},expression:"manufacturer"}})],1),t("br"),t("h3",{staticClass:"text-center mt-5"},[e._v("You can order the products by:")]),t("div",{staticClass:"d-flex mt-5"},[t(le.Z,{attrs:{label:"Order by",items:e.OrderCriterias},on:{change:function(t){return e.fetchProducts()}},model:{value:e.selectedCriteria,callback:function(t){e.selectedCriteria=t},expression:"selectedCriteria"}}),t(p.Z),t(le.Z,{attrs:{label:"Order",items:e.OrderAscDesc},on:{change:function(t){return e.fetchProducts()}},model:{value:e.selectedOrder,callback:function(t){e.selectedOrder=t},expression:"selectedOrder"}}),t(p.Z),t(f.Z,{attrs:{color:"primary"},on:{click:function(t){return e.resetFilters()}}},[e._v("Reset filters")]),t(p.Z)],1),t("div",{staticClass:"d-flex flex-wrap mx-auto"},[t("ol",{staticClass:"d-flex flex-wrap"},e._l(e.products,(function(r){return t("li",{key:r.id,staticClass:"ma-5"},[t(E.Z,{staticClass:"mt-5",attrs:{width:"344"}},[t(Y.Z,{attrs:{src:r.imageUri,width:"344",height:"200px"}}),t(L.EB,[e._v(" "+e._s(r.name)+" ")]),e._v(" "+e._s(r.pricePerUnit)+" LEI / "+e._s(r.unit)+" "),t(L.Qq),t(K.Z,{staticClass:"justify-center mx-auto pa-3"},[e._v(" "+e._s(r.category)+" ")]),r.isFavoritedByCurrentUser?t(m.Z,{attrs:{color:"red"},on:{click:function(t){return e.unfavoriteProduct(r.id)}}},[e._v("mdi-heart")]):""!=e.token?t(m.Z,{attrs:{color:"grey"},on:{click:function(t){return e.favoriteProduct(r.id)}}},[e._v("mdi-heart-outline")]):e._e(),t(p.Z),t("router-link",{staticClass:"router-link",attrs:{to:{name:"productView",params:{productId:r.id}}}},[t(f.Z,{attrs:{color:"primary"}},[e._v("Details")])],1)],1)],1)})),0),t(p.Z),t(p.Z),t(ue.Z,{attrs:{length:Math.ceil(e.totalProducts/20)},on:{input:function(t){return e.changePage(t)}},model:{value:e.page,callback:function(t){e.page=t},expression:"page"}})],1)])},de=[],fe=(0,o.aZ)({setup:function(){var e=(0,P.Jk)(w()).token,t=(0,o.iH)([]),r=(0,o.iH)([]),n=(0,o.iH)(0),s=(0,o.iH)(1),i=(0,o.iH)(""),u=(0,o.iH)(""),l=(0,o.iH)(""),c=(0,o.iH)(""),d=(0,o.iH)(""),f=(0,o.iH)(["Fructe/Legume","Lactate/Oua","Mezeluri","Carne","Peste si icre","Semipreparate","Produse congelate","Cafea/Mic dejun","Paine/Patiserie","Zahar/Faina/Malai","Orez/Legume uscate","Paste","Condimente","Conserve","Apa/Sucuri","Alcool/Tutun",""]),m=(0,o.iH)(["price","name",""]),p=(0,o.iH)(["asc","desc",""]);function h(){return(0,F.mG)(this,void 0,void 0,(function(){var r,o,f;return(0,F.Jh)(this,(function(m){switch(m.label){case 0:return m.trys.push([0,5,,6]),r="",""!==i.value&&(r+="&name="+i.value),""!==u.value&&(r+="&manufacturer="+u.value),""!==l.value&&(r+="&category="+l.value),""!==c.value&&""!==d.value&&(r+="&order="+c.value+"&orderBy="+d.value),""===r?[3,2]:[4,a().get(A()+"/product/getProducts?pagenr="+(s.value-1)+r,{headers:{Authorization:"Bearer ".concat(e.value)}})];case 1:return o=m.sent(),t.value=o.data.products,n.value=o.data.totalCount,[3,4];case 2:return[4,a().get(A()+"/product/getProducts?pagenr="+(s.value-1),{headers:{Authorization:"Bearer ".concat(e.value)}})];case 3:o=m.sent(),t.value=o.data.products,n.value=o.data.totalCount,m.label=4;case 4:return""!=e.value&&v(r),console.log(t.value),[3,6];case 5:return f=m.sent(),console.error(f),[3,6];case 6:return[2]}}))}))}function v(t){return(0,F.mG)(this,void 0,void 0,(function(){var o;return(0,F.Jh)(this,(function(n){switch(n.label){case 0:return[4,a().get(A()+"/product/getFavorites?"+t,{headers:{Authorization:"Bearer ".concat(e.value)}})];case 1:return o=n.sent(),r.value=o.data.products,[2]}}))}))}function g(e){return(0,F.mG)(this,void 0,void 0,(function(){return(0,F.Jh)(this,(function(t){return s.value=e,h(),[2]}))}))}function Z(){return(0,F.mG)(this,void 0,void 0,(function(){return(0,F.Jh)(this,(function(e){return i.value="",u.value="",l.value="",c.value="",d.value="",s.value=1,h(),[2]}))}))}return h(),Z(),{token:e,products:t,totalProducts:n,favoriteProducts:r,page:s,changePage:g,name:i,fetchProducts:h,MegaImageCategories:f,selectedCategory:l,manufacturer:u,selectedOrder:c,selectedCriteria:d,OrderCriterias:m,OrderAscDesc:p,resetFilters:Z}},methods:{favoriteProduct:function(e){return(0,F.mG)(this,void 0,void 0,(function(){var t,r;return(0,F.Jh)(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),t=new FormData,t.append("productId",e),[4,a().post(A()+"/account/addfavorite",t,{headers:{Authorization:"Bearer ".concat(this.token)}})];case 1:return o.sent(),this.fetchProducts(),[3,3];case 2:return r=o.sent(),console.error(r),[3,3];case 3:return[2]}}))}))},unfavoriteProduct:function(e){return(0,F.mG)(this,void 0,void 0,(function(){var t,r;return(0,F.Jh)(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),t=new FormData,t.append("productId",e),[4,a().post(A()+"/account/removefavorite",t,{headers:{Authorization:"Bearer ".concat(this.token)}})];case 1:return o.sent(),this.fetchProducts(),[3,3];case 2:return r=o.sent(),console.error(r),[3,3];case 3:return[2]}}))}))}}}),me=fe,pe=(0,y.Z)(me,ce,de,!1,null,null,null),he=pe.exports;o.ZP.use(ie.ZP);var ve=[{path:"/",name:"home",component:he},{path:"/register",name:"register",component:Q},{path:"/login",name:"login",component:R},{path:"/view/:productId",name:"productView",props:{productId:""},component:se}],ge=new ie.ZP({routes:ve}),Pe=ge,we=r(629);o.ZP.use(we.ZP);var Ze=new we.ZP.Store({state:{},getters:{},mutations:{},actions:{},modules:{}}),be=r(2250);o.ZP.use(be.Z);var _e=new be.Z({});o.ZP.config.productionTip=!1,o.ZP.use(P.og),a().defaults.headers.post["Content-Type"]="multipart/form-data";var ye=(0,P.WB)();new o.ZP({router:Pe,store:Ze,vuetify:_e,pinia:ye,render:function(e){return e(j)}}).$mount("#app")}},t={};function r(o){var n=t[o];if(void 0!==n)return n.exports;var a=t[o]={exports:{}};return e[o](a,a.exports,r),a.exports}r.m=e,function(){var e=[];r.O=function(t,o,n,a){if(!o){var s=1/0;for(c=0;c<e.length;c++){o=e[c][0],n=e[c][1],a=e[c][2];for(var i=!0,u=0;u<o.length;u++)(!1&a||s>=a)&&Object.keys(r.O).every((function(e){return r.O[e](o[u])}))?o.splice(u--,1):(i=!1,a<s&&(s=a));if(i){e.splice(c--,1);var l=n();void 0!==l&&(t=l)}}return t}a=a||0;for(var c=e.length;c>0&&e[c-1][2]>a;c--)e[c]=e[c-1];e[c]=[o,n,a]}}(),function(){r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,{a:t}),t}}(),function(){r.d=function(e,t){for(var o in t)r.o(t,o)&&!r.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})}}(),function(){r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={143:0};r.O.j=function(t){return 0===e[t]};var t=function(t,o){var n,a,s=o[0],i=o[1],u=o[2],l=0;if(s.some((function(t){return 0!==e[t]}))){for(n in i)r.o(i,n)&&(r.m[n]=i[n]);if(u)var c=u(r)}for(t&&t(o);l<s.length;l++)a=s[l],r.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return r.O(c)},o=self["webpackChunkarchive_frontend"]=self["webpackChunkarchive_frontend"]||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))}();var o=r.O(void 0,[998],(function(){return r(5056)}));o=r.O(o)})();
//# sourceMappingURL=app.js.map